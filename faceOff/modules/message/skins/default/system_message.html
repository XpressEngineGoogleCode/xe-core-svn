<!--%import("message.css")-->

<div class="messageLayer">
    <div class="messageLayerBody">
        <h4>
            {$system_message}
        </h4>

<!--@if(!$is_logged)-->
    <!--%import("./filter/login.xml")-->
    <!--%import("./filter/openid_login.xml")-->
    <!--%import("./message.js")-->
    <script type="text/javascript">
        var keep_signed_msg = "{$lang->about_keep_signed}";
        xAddEventListener(window, "load", function(){ xGetElementById("messageLoginForm").user_id.focus(); });
    </script>
            <div class="messageLogin" id="messageLogin">

                <form action="./" method="post" onsubmit="return procFilter(this, message_login)" id="messageLoginForm">

                    <div class="formField"><label>{$lang->user_id}</label> <input name="user_id" type="text" class="inputTypeText" /></div>
                    <div class="formField"><label>{$lang->password}</label> <input name="password" type="password" class="inputTypeText" /></div>

                    <div class="button">
                        <span class="button black strong"><input type="submit" value="{$lang->cmd_login}" /></span>
                        <a href="{getUrl('act','dispMemberSignUpForm')}" class="button"><span>{$lang->cmd_signup}</span></a>
                        <a href="{getUrl('act','dispMemberFindAccount')}" class="button"><span>{$lang->cmd_find_member_account}</span></a>
                    </div>

                    <p class="loginOption">
                        <input type="checkbox" name="keep_signed" id="keepid" value="Y" onclick="if(this.checked) return confirm(keep_signed_msg);" />
                        <label for="keepid">{$lang->keep_signed}</label>
                        <!--@if($member_config->enable_openid=='Y')-->
                        <input name="use_open_id" id="use_open_id" type="checkbox" value="Y" onclick="toggleLoginForm(this); return false;" />
                        <label for="use_open_id">Open ID</label>
                        <!--@end-->
                    </p>

                </form>
                <div class="clear"></div>
            </div>

            <!-- OpenID -->
            <!--@if($member_config->enable_openid=='Y')-->
            <div class="messageLogin openid_login" id="messageOpenidLogin">
                <form action="{getUrl('module','member','act','procMemberOpenIDLogin')}" method="post" onsubmit="return procFilter(this, openid_login)" id="messageOpenIDForm">
                    <div class="openIDTitle">
                        OpenID 
                        <input type="text" name="openid" class="inputTypeText" />
                        <input name="use_open_id_2" type="checkbox" value="Y" onclick="toggleLoginForm(this); return false;" checked="checked" />
                        <span class="button black strong"><input type="submit" value="{$lang->cmd_login}" /></span>
                    </div>
              </form>
            </div>
            <!--@end-->
<!--@end-->

        <ul>
            <li><a href="#" onclick="history.back(); return false;" class="button black"><span>{$lang->cmd_back}</span></a></li>
            <!--@if($is_logged)-->
            <li><a href="{getUrl('act','dispMemberLogout')}" class="button red"><span>{$lang->cmd_logout}</span></a></li>
            <!--@end-->
        </ul>
    </div>
</div>
