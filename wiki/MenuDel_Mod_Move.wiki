#sidebar ServerAPI

= Delete =
== module : menu ==
== method : procMenuAdminDeleteItem ==

{{{
var params = new Array();
var response_tags = new Array('menu_item_srl', 'menu_title', 'xml_file');
params['menu_item_srl'] = 2;
params['is_force'] = 'Y';
exec_xml("menu","procMenuAdminDeleteItem", params, completeTmp, response_tags)
}}}
위와 같이 호출 하면 아래와 같은 형태로 리턴 됨.

{{{
Array
(
    [error] => "0"
    [message] => "삭제했습니다."
    [menu_item_srl] => "2"
    [menu_title] => "Test Site Map"
    [xml_file] => "./files/cache/menu/1.xml.php"
)
}}}

 * is_force가 Y인 경우 하부 메뉴가 있어도 삭제한다.
 * is_force가 없거나 N인 경우 하부 메뉴가 있을 때에는 error를 -1로 반환하며 message는 '하부 메뉴가 있는 메뉴는 삭제할 수 없습니다.'로 정의 된다.

= Modify =
== module : menu ==
== method : procMenuAdminUpdateItem ==

{{{
var params = new Array();
var response_tags = new Array('menu_item_srl');
params['menu_item_srl'] = '918';
params['menu_name'] = '테스트 제목';
params['url'] = 'boardboard';
params['menu_open_window'] = 'N';
params['menu_expand'] = 'N';
params['shortcut_target'] = '123';
params['browser_title'] = '새로운 브라우져 제목입니다.';

exec_xml("menu","procMenuAdminUpdateItem", params, completeTmp);
}}}

위와 같이 호출 하면 아래와 같은 형태로 리턴 됨.

{{{
Array
(
    [error] => "0"
    [message] => "수정했습니다."
    [menu_item_srl] => "918"
)
}}}

 * shortcut_target이 http로 시작할 경우에는 url 타입, 숫자로 되어 있을 경우에는 타겟 메뉴의 번호로 인식함
 * module type의 메뉴이면서 browser_title이 있는 경우에는 기본 모듈에 셋팅되어 있는 browser_title을 변경 함


= Move =

{{{
var params = new Array();
params['mode'] = 'move';

// 위치를 이동 할 메뉴의 srl
params['target_srl'] = 196;

// 어느 부모 밑으로 이동 할지
params['parent_srl'] = 186;

// parent_srl 하위의 어느 노드 뒤에 삽입 할지. 
// 0: parent_srl 바로 밑에. 
// 다른 값: 해당 srl을 가진 노드 밑에
params['source_srl'] = 0;  
exec_xml("menu","procMenuAdminMoveItem", params, completeTmp);
}}}

위와 같이 호출 하면 아래와 같은 형태로 리턴 됨.

{{{
Array
(
    [error] => "0"
    [message] => "success"
)
}}}