#sidebar ServerAPI

= Add =
== module : menu ==
== act : procMenuAdminInsertItem ==
{{{
var params = new Array();
var response_tags = new Array('menu_item_srl');
params['menu_name_key'] = "메뉴의 이름에 다국어가 쓰였을 경우 해당 변수 명 (ex: $user_lang->userLang20120919153529020)";
params['menu_name'] = "사용자에게 보여줘야 할 메뉴명";
params['module_type'] = "모듈의 타입"; //page module일 경우 WIDGET, ARTICLE, OUTSIDE의 값을 가질 수 있으며 기타 다른 모듈은 모듈명을 사용한다.
params['menu_open_window'] = "링크를 새창으로 열 것인지의 여부('Y', 'N')";
params['menu_expand'] = "처음 로딩 시 메뉴가 열려 있도록 할 것인지의 여부 (Y', 'N')"
params['parent_srl'] = "특정 메뉴 아이템(node) 아래에 속하게 만들고 싶을 경우 해당 아이템(node)의 menu_item_srl 값. 최상위 메뉴로 만들고 싶을 경우 0을 사용하면 됨.";
params['is_shortcut'] = 'N'; //바로가기 여부, 기본값은 N
params['module_id'] = 'freeboard'; //모듈인스턴스 연결 메뉴일 경우 mid 값
params['shortcut_target'] = '254'; //url또는 기존 메뉴의 바로가기일 경우의 값. http로 시작하면 url, 숫자일 경우에는 기존 menu item의 번호

exec_xml("menu","procMenuAdminInsertItem", params, completeTmp, response_tags)
}}}

메뉴의 타입이 URL인 경우 위 parameter 중에 다음의 값만 아래와 같이 변경하여 보내면 됨.

{{{
params['is_shortcut'] = 'Y';
params['shortcut_target'] = 'http://www.naver.com';
}}}

메뉴의 타입이 메뉴 바로가기인 경우 아래와 같이 변경하여 보내면 됨.

{{{
params['is_shortcut'] = 'Y';
params['shortcut_target'] = '111';
}}}

위와 같이 호출 하면 아래와 같은 형태로 리턴 됨.

{{{
Array
(
    [error] => "0"
    [message] => "등록했습니다."
    [menu_item_srl] => "2"
)
}}}