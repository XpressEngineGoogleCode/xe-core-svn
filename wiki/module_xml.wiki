<wiki:toc max_depth="3" />

=개요=
module.xml은 모듈의 권한, 퍼미션, 액션 등을 정의합니다.

=사용법=
==기본 형식==
아래는 module.xml의 기본 형식입니다.

*module.xml 기본 형식 예제*

{{{
<?xml version="1.0" encoding="utf-8"?>
<module>
    <grants>
        ...
        <grant name="list" default="guest">
            <title xml:lang="ko">목록</title>
            ...
        </grant>
        ...
    <grants>
    <permissions>
        ...
        <permission action="dispBoardAdminList" target="manager" />
        ...
    </permissions>
    <menus>
        ...
        <menu name="board_list" type="site">
            <title xml:lang="ko">게시판 목록</title>
        </menu>
        ...
    </menus>
    <actions>
        ...
        <action name="dispBoardContent" type="view" index="true" />
        ...
        <action name="dispBoardAdminList" type="view" menu_name="board_list" menu_index="true" />
        ...
    </actions>
</module>

}}}

==grants==
모듈에서 사용하는 권한은 grants에서 정의합니다. 이곳에 정의된 권한은 사용자가 설정할 수 있도록 모듈의 권한 설정 화면에 나타납니다. XE는 현재 사용자가 이곳에 정의된 권한을 가지고 있는지 자동으로 세팅해줍니다. 모듈 개발자는 현재 사용자가 코드 수행에 필요한 권한을 가지고 있는지 쉽게 체크할 수 있습니다.

grants 노드는 여러 grant 노드를 자식으로 가질 수 있습니다. grant 노드는 title 노드를 자식으로 가질 수 있습니다.

*grant 형식 예제*
{{{
<grants>
    ...
    <grant name="list" default="guest">
        <title xml:lang="ko">목록</title>
        ...
    </grant>
    ...
<grants>

}}}

grant 노드는 아래 속성을 가집니다.

*grant 노드의 속성*
|| *속성* || *설명* ||
|| *name* || 권한의 변수 이름입니다. ||
|| *default* || 이 권한에 적용할 기본 퍼미션입니다. 사용할 수 있는 퍼미션은 아래를 참고하세요. ||

title 노드에는 권한의 이름을 body에 적어 줍니다. 이때 xml:lang 속성을 이용하여 각 언어별 이름을 지정해 줄 수 있습니다.

*title 노드의 속성*
|| *속성* || *설명* ||
|| xml:lang || 이름의 언어. 사용할 수 있는 언어 코드는 아래를 참고하세요. ||

==permissions==


각 액션의 퍼미션은 permissions에 정의합니다. 퍼미션은 grant와는 다른 개념이며 각 액션을 실행할 수 있는 최소의 권한을 정의합니다.

permissons 노드는 여러 permission 노드를 자식 노드로 가질 수 있습니다.

*permissons 형식 예제*
{{{
<permissions>
    ...
    <permission action="dispBoardAdminInsertBoard" target="manager" />
    ...	
</permissions>

}}}

permisson 노드는 아래 속성을 가집니다.

*permission 노드의 속성*


|| *속성* || *설명* ||
|| action || 퍼미션을 정의할 액션입니다. ||
|| target || 액션에 적용할 퍼미션입니다. 사용할 수 있는 퍼미션은 아래를 참고하세요. ||


==menus==

모듈에서 관리자 화면의 메뉴에 추가하길 원하는 메뉴는 menus에 정의합니다. 모듈 개발자는 모듈의 관리 화면을 XE 관리자 화면에 제공할 수 있습니다. 사용자는 XE 관리자 메뉴 설정에서 필요한 모듈의 메뉴를 자유롭게 추가하여 자신만의 관리자 메뉴를 구성할 수 있습니다.

menus 노드는 여러 menu 노드를 자식 노드로 가질 수 있습니다. menu 노드는 title 노드를 자식 노드로 가질 수 있습니다.

*menus 형식 예제*
{{{
<menus>
    ...
    <menu name="board_list" type="site">
        <title xml:lang="ko">게시판 목록</title>
    </menu>
    ...
</menus>
}}}

menu 노드는 아래 속성을 가집니다.

*menu 노드의 속성*
|| *속성* || *설명* ||
|| *name* || 메뉴의 이름을 정의합니다. 이 이름은 actions에서 이 메뉴에 지정될 액션을 정의하는 데 사용됩니다. ||
|| *type* || Super admin 화면에 사용되는 메뉴라면 type="super"로 설정합니다. Site Admin 화면에 사용되는 메뉴라면 type="site"로 설정합니다. 양쪽 모두에 사용된다면 type="all"로 설정합니다. ||

title 노드에는 실제 표시될 메뉴명을 body에 적어줍니다.이때 xml:lang 속성을 이용하여 각 언어별 메뉴명을 지정해 줄 수 있습니다.

*title 노드의 속성*

|| *속성* || *설명* ||
|| *xml:lang* || 메뉴명의 언어. 사용할 수 있는 언어 코드는 아래를 참고하세요. ||

==actions==

모듈에서 제공하는 액션은 actions에 정의합니다. 

actions 노드는 여러 action 노드를 자식 노드로 가질 수 있습니다.

*actions 형식 예제*
{{{
<actions>
    ...
    <action name="dispBoardContent" type="view" index="true" />
    ...
</actions>
}}}

action 노드는 아래 속성을 가집니다.

*action 노드의 속성*

|| *속성* || *설명* ||
|| *name* || 액션 이름입니다. 액션 이름은 정해진 규칙에 따라 작성해야 합니다. ||
|| *type* || 액션의 타입입니다. 사용할 수 있는 타입은 아래를 참고하세요. ||
|| *standalone* || 이 액션이 mid 없이 동작하면 true로 설정합니다. ||
|| *ruleset* || 이 액션이 실행될 때 적용할 룰셋을 적어줍니다. 룰셋에 대한 자세한 설명은 룰셋 위키 내용을 참고하세요. ||
|| *index* || 이 모듈의 기본 액션일 때 true로 설정합니다. ||
|| *admin_index* || 이 모듈의 관리자 기본 액션일 때 true로 설정합니다. ||
|| *setup_index* || 이 모듈의 설치 기본 액션일 때 true로 설정합니다. ||
|| *menu_name* || menus에 정의된 메뉴 이름 중 이 액션이 포함된 메뉴 이름을 적어줍니다. 메뉴에 포함되는 액션이 여러 개일 경우 각 액션 마다 동일한 메뉴 이름을 적어줍니다. ||
|| *menu_index* || 메뉴의 기본 액션일 때 true로 설정합니다. 메뉴에 포함된 액션 중 반드시 하나는 menu_index가 설정되어야 합니다. ||

===액션 이름 규칙===

view 액션은 아래 규칙에 따라 액션 이름을 지어야 합니다.

*view 액션 이름 규칙*
|| disp _Modulename_`[Admin`]_Actionname_ ||

controller 액션은 아래 규칙에 따라 액션 이름을 지어야 합니다.

*controller 액션 이름 규칙*

|| proc _Modulename_`[Admin`]_Actionname_ ||

===타입===

아래 타입을 사용할 수 있습니다. 액션의 실제 정의는 이곳에 작성한 타입의 클래스 내에 정의되어 있어야 합니다.

*타입*
|| *타입* || *설명* ||
|| *view* || view 클래스. 화면에 보이는 모습을 담당합니다. ||
|| *controller* || controller 클래스. 삽입, 삭제 등 데이터의 가공을 담당합니다. ||
|| *model* || model 클래스. 설정 가져오기, 글 목록 가져오기 등 데이터를 제공합니다. ||
|| *mobile* || mobile 클래스. 모바일 환경에서 view를 담당합니다. ||
|| *api* || api 클래스. 데이터를 api로 제공합니다. ||
|| *wap* || wap 클래스. 스마트폰 이전의 휴대폰의 view를 담당합니다. ||

=참고=

==사용할 수 있는 언어 코드==

현재 XE에서 사용할 수 있는 언어 코드는 아래와 같습니다.

*언어 코드 목록*
|| *언어 코드* || *언어* ||
|| *en* || 	영어 ||
|| *ko* || 	한국어 ||
|| *zh-CN* || 	중국어 간체 ||
|| *jp* || 	일본어 ||
|| *es* || 	에스파냐어 ||
|| *ru* || 	러시아어 ||
|| *fr* || 	프랑스어 ||
|| *zh-TW* || 	중국어 번체 ||
|| *vi* || 	베트남어 ||
|| *mn* || 	몽골어 ||
|| *tr* || 	터키어 ||

==사용할 수 있는 퍼미션==

현재 XE에서 사용할 수 있는 퍼미션은 아래와 같습니다.

*퍼미션 목록*
|| *퍼미션* ||	*설명* ||
|| *root* ||	최고 관리자만 권한을 가집니다. ||
|| *manager* ||	모듈 관리자가 권한을 가집니다. ||
|| *member* ||	로그인한 회원이 권한을 가집니다. ||
|| *guest* ||	비회원도 권한을 가집니다. ||