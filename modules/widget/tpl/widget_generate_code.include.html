<load target="js/multi_order.js" usecdn="true" />
<load target="js/module_list.js" usecdn="true" />
<load target="js/mid.js" usecdn="true" />
<load target="js/multi_lang.js" usecdn="true" />
<!--%load_js_plugin("ui.colorpicker")-->

<div class="x_control-group">
	<label class="x_control-label" for="skin">{$lang->skin}</label>
	<div class="x_controls">
			<select name="skin" id="skin" style="width:220px">
				<option value="">{$lang->select}</option>
				<option loop="$skin_list => $skin_name, $skin" value="{$skin_name}">{$skin->title} ({$skin_name})</option>
			</select>
			<input type="button" class="x_btn" value="{$lang->cmd_select}" />
	</div>
</div>
<div class="x_control-group">
	<label class="x_control-label" for="colorset">{$lang->colorset}</label>
	<div class="x_controls">
		<select name="colorset" id="widget_colorset" style="width:220px">
		</select>
	</div>
</div>
<div class="x_control-group">
	<label class="x_control-label" for="widget_cache">{$lang->widget_cache}</label>
	<div class="x_controls">
		<input type="text" name="widget_cache" id="widget_cache" value="0" size="2" style="width:auto" /> {$lang->unit_min}
		<span class="x_help-block">{$lang->about_widget_cache}</span>
	</div>
</div>
{@$suggestion_id = 0}
<block loop="$widget_info->extra_var => $id, $var">
	{@$suggestion_id++}
	<block cond="!$not_first && !$var->group"><section class="extra_vars section"></block>
	<block cond="$group != $var->group">
		<block cond="$not_first"></section></block>
		<section class="extra_vars section">
		<h1>{$var->group}</h3>
		{@$group = $var->group}
	</block>
	{@$not_first = true}
	<div class="x_control-group <!--@if($var->type == 'mid' || $var->type == 'module_srl_list')-->moduleSearch moduleSearch1 modulefinder<!--@end-->">
		<label class="x_control-label" for="{$id}">{$var->name}</label>
		<div class="x_controls">
			<div cond="$var->type == 'text'">
				<input type="text" name="{$id}" class="lang_code" />
			</div>
			<input cond="$var->type == 'color'" type="text" name="{$id}" value="" id="{$id}" class="color-indicator" style="width:178px" />
			<div cond="$var->type == 'textarea'">
				<textarea cond="$var->type == 'textarea'" name="{$id}" id="{$id}" class="lang_code" rows="8" cols="42"></textarea>
			</div>
			<select cond="$var->type == 'select'" name="{$id}" id="{$id}" style="width:220px">
				<option loop="$var->options => $key, $val" value="{$key}">{$val}</option>
			</select>
			<block cond="$var->type == 'select-multi-order'">
				<!--@if($var->init_options && is_array($var->init_options))-->
				{@$inits = array_keys($var->init_options)}
				<input type="hidden" name="{$id}" value="{implode(',', $inits)}" />
				<!--@else-->
				<input type="hidden" name="{$id}" value="" />
				<!--@end-->
				<div style="display:inline-block">
					<select class="multiorder_show" size="8" multiple="multiple" style="width:220px;vertical-align:top">
						<option loop="$var->options => $key, $val" cond="!$var->init_options[$key]" value="{$key}" default="true"|cond="$var->default_options[$key]">{$val}</option>
					</select><br />
					<button type="button" class="x_btn x_btn-mini multiorder_add" style="vertical-align:top">{$lang->cmd_insert}</button>
				</div>
				<div style="display:inline-block">
					<select class="multiorder_selected" size="8" multiple="multiple" style="width:220px;vertical-align:top">
						<option loop="$var->options => $key, $val" cond="$var->init_options[$key]" value="{$key}" default="true"|cond="$var->default_options[$key]">{$val}</option>
					</select><br />
					<button type="button" class="x_btn x_btn-mini multiorder_up" style="vertical-align:top">{$lang->cmd_move_up}</button>
					<button type="button" class="x_btn x_btn-mini multiorder_down" style="vertical-align:top">{$lang->cmd_move_down}</button>
					<button type="button" class="x_btn x_btn-mini x_btn-danger multiorder_del" style="vertical-align:top">{$lang->cmd_delete}</button>
				</div>
				<script>
					xe.registerApp(new xe.MultiOrderManager('{$id}'));
				</script>
			</block>
			<block cond="$var->type == 'mid_list'">
				<fieldset loop="$mid_list => $module_category_srl, $modules">
					<block cond="count($mid_list) > 1">
						<legend cond="$modules->title">{$modules->title}</legend>
						<legend cond="!$modules->title">{$lang->none_category}</legend>
					</block>
					<div loop="$modules->list => $key, $val">
						<label class="x_inline"><input type="checkbox" value="{$key}" name="{$id}" /> {$key} ({$val->browser_title})</label>
					</div>
				</fieldset>
			</block>
			<block cond="$var->type == 'member_group'">
				<block loop="$group_list => $key, $val">
					<label class="x_inline"><input type="checkbox" value="{$key}" name="{$id}" id="chk_member_gruop_{$id}_{$key}" /> {$val->title}</label>
				</block>
			</block>
			<block cond="$var->type == 'module_srl_list'">
				<p class="desc">{$var->description}</p>
				<input type="hidden" name="{$id}" value="" />
				<select class="modulelist_selected" size="8" multiple="multiple" style="width:220px;"></select>
				<br/>
				<a href="#" type="button" id="__module_srl_list_{$id}" class="x_btn x_btn-mini moduleTrigger" data-multiple="true">{$lang->cmd_add}</a>
				<button type="button" class="x_btn x_btn-mini modulelist_up">{$lang->cmd_move_up}</button>
				<button type="button" class="x_btn x_btn-mini modulelist_down">{$lang->cmd_move_down}</button>
				<button type="button" class="x_btn x_btn-mini x_btn-danger modulelist_del">{$lang->cmd_delete}</button>
				<script>
					xe.registerApp(new xe.ModuleListManager('{$id}'));
				</script>
			</block>
			<block cond="$var->type == 'mid'">
				<input type="hidden" name="{$id}" value="" />
				<input type="text" style="width:220px" readonly="readonly" />
				<a href="#" class="x_btn x_btn-mini moduleTrigger">{$lang->cmd_select}</a>
				<button type="button" class="x_btn x_btn-mini x_btn-danger delete">{$lang->cmd_delete}</button>
				<script>
					xe.registerApp(new xe.MidManager('{$id}'));
				</script>
			</block>
			<block cond="$var->type == 'filebox'">
				{@$use_filebox = true}
				<input type="hidden" name="{$id}" />
				<a class="x_btn x_btn-mini modalAnchor filebox" href="#modalFilebox">{$lang->cmd_select}</a>
			</block>
			<select cond="$var->type == 'menu'" name="{$id}" style="width:220px">
				<option value="">-</option>
				<option loop="$menu_list => $key, $val" value="{$val->menu_srl}">{$val->title}</option>
			</select>
		</div>
	</div>
</block>
</section>
<script>
	xe.current_lang = "{$lang_type}";
</script>
