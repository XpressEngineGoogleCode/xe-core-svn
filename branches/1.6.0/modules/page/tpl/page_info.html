<!--#include("header.html")-->

<div id="content" class="cleared">
    <div cond="$XE_VALIDATOR_MESSAGE" class="xe-ui-message {$XE_VALIDATOR_MESSAGE_TYPE} gradient cleared">
        <a href="#" style="float: right;" onclick="jQuery(this).parent().remove();return false;" class="xe-ui-button-gray gradient">Dismiss</a>
        <p>{$XE_VALIDATOR_MESSAGE}</p>
    </div>
    <div class="xe-ui-panel cleared">
        <div class="xe-ui-panel-content cleared">
            <form ruleset="updatePage" action="./" method="post" enctype="multipart/form-data" class="form">
                <input type="hidden" name="module" value="page" />
                <input type="hidden" name="act" value="procPageAdminUpdate" />
                <input type="hidden" name="page" value="{$page}" />
                <input type="hidden" name="module_srl" value="{$module_srl}" />
                <input type="hidden" name="success_return_url" value="{getRequestUriByServerEnviroment()}" />
                <table width="100%" border="0" cellspacing="0" cellpadding="0" class="xe-ui-form-table">
                    <tr>
                        <td width="20%"><p>{$lang->page_type}</p></td>
                        <td>
                            <p>{$lang->page_type_name[$module_info->page_type]}</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="v-top"><p>{$lang->mid}</p></td>
                        <td>
                           <p><input type="text" name="page_name" value="{$module_info->mid}" class="xe-ui-panel-text"/><br /></p>
                            <p class="desc">{$lang->about_mid}</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="v-top"><p>{$lang->module_category}</p></td>
                        <td>
                            <p>
                                <select name="module_category_srl" class="xe-ui-panel-select">
                                    <option value="0">{$lang->notuse}</option>
                                    <!--@foreach($module_category as $key => $val)-->
                                    <option value="{$key}" <!--@if($module_info->module_category_srl==$key)-->selected="selected"<!--@end-->>{$val->title}</option>
                                    <!--@end-->
                                </select>
                            </p>
                            <p class="desc">{$lang->about_module_category}</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="v-top"><p>{$lang->browser_title}</p></td>
                        <td class="text multiLangEdit">
                            <p>
                                <input type="hidden" name="browser_title" value="{htmlspecialchars($module_info->browser_title)}" class="vLang" />
                                <input type="text" value="{$module_info->browser_title}" class="vLang xe-ui-panel-text" />
                                <a href="#langEdit" class="tgAnchor editUserLang xe-ui-button-gray" data-effect="slide">{$lang->cmd_set_multilingual}</a>
                            </p>
                            <p class="desc">{$lang->about_browser_title}</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="v-top"><p>{$lang->layout}</p></td>
                        <td>
                            <p>
                            <select name="layout_srl" class="xe-ui-panel-select">
                                <option value="0">{$lang->notuse}</option>
                                <!--@foreach($layout_list as $key => $val)-->
                                <option value="{$val->layout_srl}" <!--@if($module_info->layout_srl==$val->layout_srl)-->selected="selected"<!--@end-->>{$val->title} ({$val->layout})</option>
                                <!--@end-->
                            </select>
                            </p>
                            <p class="desc">{$lang->about_layout}</p>
                        </td>
                    </tr>
                    <tr>
                        <td><p>{$lang->mobile_view}</p></td>
                        <td>
                            <p>
                            <input type="checkbox" name="use_mobile" id="use_mobile" value="Y" <!--@if($module_info->use_mobile == "Y")-->checked="checked"<!--@end--> />
                            <label for="use_mobile">{$lang->about_mobile_view}</label>
                            </p>
                        </td>
                    </tr>
                    <tr>
                        <td class="v-top"><p>{$lang->mobile_layout}</p></td>
                        <td>
                            <p>
                            <select name="mlayout_srl" class="xe-ui-panel-select">
                                <option value="0">{$lang->notuse}</option>
                                <!--@foreach($mlayout_list as $key => $val)-->
                                <option value="{$val->layout_srl}" <!--@if($module_info->mlayout_srl==$val->layout_srl)-->selected="selected"<!--@end-->>{$val->title} ({$val->layout})</option>
                                <!--@end-->
                            </select>
                            </p>
                            <p class="desc">{$lang->about_layout}</p>
                        </td>
                    </tr>
                    <!--@if($module_info->page_type != 'ARTICLE')-->
                    <tr>
                        <td class="v-top"><p>{$lang->page_caching_interval}</p></td>
                        <td>
                            <p>
                            <input type="text" name="page_caching_interval" value="{(int)$module_info->page_caching_interval}" class="xe-ui-panel-text" style="width: 30px;"/> {$lang->unit_min}
                            </p>
                            <p class="desc">{$lang->about_page_caching_interval}</p>
                        </td>
                    </tr>
                    <!--@end-->
                    <!--@if($module_info->page_type == 'OUTSIDE')-->
                    <tr>
                        <td class="v-top"><p>{$lang->opage_path}</p></td>
                        <td>
                            <p>
                                <input type="text" name="path" value="{htmlspecialchars($module_info->path)}" class="xe-ui-panel-text"/>
                            </p>
                            <p class="desc">{$lang->about_opage_path}<b>{realpath("./")}</b></p>
                        </td>
                    </tr>
                    <tr>
                        <td class="v-top"><p>{$lang->opage_mobile_path}</p></td>
                        <td>
                            <p>
                                <input type="text" name="mpath" value="{htmlspecialchars($module_info->mpath)}" class="xe-ui-panel-text"/>
                            </p>
                            <p class="desc">{$lang->about_opage_mobile_path}<b>{realpath("./")}</b></p>
                        </td>
                    </tr>
                    <!--@end-->
                    <!--@if($module_info->page_type == 'ARTICLE')-->
                    <tr>
                        <td class="v-top"><p>{$lang->skin}</p></td>
                        <td>
                            <p>
                            <select name="skin" class="xe-ui-panel-select">
                                <!--@foreach($skin_list as $key=>$val)-->
                                <option value="{$key}" <!--@if($module_info->skin==$key ||(!$module_info->skin && $key=='default'))-->selected="selected"<!--@end-->>{$val->title}</option>
                                <!--@end-->
                            </select>
                            </p>
                            <p class="desc">{$lang->about_skin}</p>
                        </td>
                    </tr>
                    <tr class="optionnalData articleType">
                        <td class="v-top"><p>{$lang->mobile_skin}</p></td>
                        <td>
                            <p>
                            <select name="mskin" class="xe-ui-panel-select">
                                <!--@foreach($mskin_list as $key=>$val)-->
                                <option value="{$key}" <!--@if($module_info->mskin==$key ||(!$module_info->mskin && $key=='default'))-->selected="selected"<!--@end-->>{$val->title}</option>
                                <!--@end-->
                            </select>
                            </p>
                            <p class="desc">{$lang->about_skin}</p>
                        </td>
                    </tr>
                    <!--@end-->
                </table>
                <p class="center">
                    <!--@if($module_info->page_type != 'OUTSIDE')-->
                        <a href="{getUrl('','module','page','act','dispPageAdminContentModify','module_srl',$module_info->module_srl)}" onclick="window.open(this.href,'PageEdit','width=850,height=650,scrollbars=yes,resizable=yes,toolbars=no');return false;" class="xe-ui-button-gray">{$lang->edit_content}</a>
                    <!--@end-->
                </p>

                <!-- Multilingual -->
                <div id="langEdit" class="langEdit tgContent">
                    <ul class="langList"></ul>
                    <div class="langInput">
                        <h2>{$lang->cmd_multilingual} <strong>{$lang->cmd_modify}...</strong> | <a href="#langEdit">{$lang->cmd_insert}</a></h2>
                        <ul>
                            {@
                            /* move current language to the top */
                            $a = array($lang_type=>$lang_supported[$lang_type]);
                            unset($lang_supported[$lang_type]);
                            $lang_supported = array_merge($a, $lang_supported);
                            }
                            <li loop="$lang_supported=>$code,$name" class="{$code}">
                                <label for="{$code}_var1">{$name}</label>
                                <input type="text" value="" id="{$code}_var1" />
                            </li>
                        </ul>
                        <div class="action">
                            <div class="btnArea">
                                <span class="btn small"><input type="submit" value="{$lang->use}|{$lang->use_after_save}" /></span>
                            </div>
                            <p><a href="{getUrl('act','dispModuleAdminLangcode')}"class="xe-ui-button-gray">{$lang->multilingual_manager}</a></p>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="xe-ui-panel-controller">
            <hr />
            <p class="center">
                <a href="#" onclick="jQuery('.form').submit();return false;" class="xe-ui-button-gray">{$lang->cmd_save}</a>
            </p>
        </div>
    </div>
</div>
